# Story 3.6: ุฅุฑุณุงู ุงูุทูุจ โ ุญุงูุฉ ุงูุฅููุงู

**ุงูุชุงุฑูุฎ:** 2025-11-08  
**ุงูุญุงูุฉ:** โ ููุชูู

---

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. Endpoint ุฌุฏูุฏ `POST /investor/requests/:id/submit`
- ุฅุถุงูุฉ ุงููุณุงุฑ ูู `backend/src/routes/investor.routes.ts` ูุน ุญูุงูุชู ุนุจุฑ `authenticate` ู`requirePermission('investor.requests.submit')`.
- ูุฏุนู ููุงู ุงููุณุชุซูุฑ ุจุฅุฑุณุงู ุทูุจู ุจุดูู ุตุฑูุญ ุจุนุฏ ุญูุธู ููุณูุฏุฉ.

### 2. ููุทู ุงูุฎุฏูุฉ
- `submitInvestorRequest` ูู `backend/src/services/request.service.ts` ูุชุญูู ูู:
  - ููููุฉ ุงูุทูุจ ูููุณุชุซูุฑ ุงูุญุงูู.
  - ุฃู ุงูุทูุจ ูู ุญุงูุฉ `draft`.
  - ูุฌูุฏ ูุฑููุงุช ูุฑุชุจุทุฉ ูู ุฌุฏูู `attachments`.
- ุนูุฏ ุชุญูู ุงูุดุฑูุท ูุชู ุงุณุชุฏุนุงุก `transitionRequestStatus` ูููู ุงูุญุงูุฉ ุฅูู `submitted` ูุชุณุฌูู ุงูุญุฏุซ ูู `request_events`.
- ุชูุช ุฅุถุงูุฉ ุฎุฏูุงุช ุฅุดุนุงุฑ Placeholder (`notifyInvestorOfSubmission`, `notifyAdminsOfSubmission`) ูุชุณุฌูู ุงูุฃุญุฏุงุซ (ุณุชูุณุชุจุฏู ุจุฏูุฌ ูุนูู ูุงุญููุง).

### 3. ุชุญุฏูุซุงุช ูุฑุชุจุทุฉ
- `requestController.create` ุงูุขู ููุฑุฌุน ุญุงูุฉ `draft` ููุท ููุง ูููู ุจุงูุฅุฑุณุงู ุงูุชููุงุฆู.
- `requestController.submit` ูุชุนุงูู ูุน ุฃุฎุทุงุก ุงููุทุงู (ุนุฏู ุงูุนุซูุฑ ุนูู ุทูุจุ ููููุฉุ ุญุงูุฉุ ูุฑููุงุช) ููุนูุฏ ุฑููุฒ HTTP ููุงุณุจุฉ.
- ุชุญุฏูุซ ูุงููุณ ุงููุงุฌูุฉ (`frontend/src/locales/newRequest.ts`) ูุชูุถูุญ ุฃู ุงูุทูุจ ููุญูุธ ููุณูุฏุฉ ูุฃู ุงูุฅุฑุณุงู ูุชู ูุงุญููุง ุจุนุฏ ุฅุฑูุงู ุงููุณุชูุฏุงุช.
- ุชุญุฏูุซ ุชูุซูู ุงููุงุฌูุฉ (`docs/front-end-spec.md`) ู`README.md` ููุฅุดุงุฑุฉ ุฅูู ุงูุชุฏูู ุงูุฌุฏูุฏ.

### 4. ุงูุงุฎุชุจุงุฑุงุช
- ุชุญุฏูุซ `backend/tests/request.controller.test.ts` ููุชุญูู ูู ุญุงูุฉ ุงููุณูุฏุฉ ูุฅุถุงูุฉ ุณููุงุฑูููุงุช ุงูุฅุฑุณุงู.
- ุฅุถุงูุฉ `backend/tests/request.service.test.ts` ูุชุบุทูุฉ ุญุงูุงุช ุงูุฅุฑุณุงู (ุทูุจ ุบูุฑ ููุฌูุฏุ ููููุฉ ุฎุงุทุฆุฉุ ุญุงูุฉ ุบูุฑ ุตุญูุญุฉุ ูุฑููุงุช ููููุฏุฉุ ูุฌุงุญ).

---

## ๐งช ุงูุงุฎุชุจุงุฑุงุช
- **ูุญุฏุฉ (Jest):** ุชุบุทู ููุทู ุงูุฅุฑุณุงู ูุงูุชุญูู ูู ุงูุฃุฎุทุงุก.
- **ูู ูุชู ุชูููุฐ ุงุฎุชุจุงุฑุงุช ุชูุงูู/ูุงุฌูุฉ**: ุณุชุชู ุฅุถุงูุชูุง ูุน ูุงุฌูุงุช ุงูุชูุฏูู ูุงููุชุงุจุนุฉ ุงููุงุฏูุฉ.

ูุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช:
```bash
npm run test -- --runTestsByPath backend/tests/request.controller.test.ts backend/tests/request.service.test.ts
```

---

## ๐ ุงููููุงุช ุงููุชุฃุซุฑุฉ
- `backend/src/controllers/request.controller.ts`
- `backend/src/routes/investor.routes.ts`
- `backend/src/services/request.service.ts`
- `backend/src/services/notification.service.ts` (ุฌุฏูุฏ)
- `backend/tests/request.controller.test.ts`
- `backend/tests/request.service.test.ts` (ุฌุฏูุฏ)
- `frontend/src/locales/newRequest.ts`
- `frontend/src/components/request/NewRequestForm.tsx`
- `docs/front-end-spec.md`
- `README.md`

---

## ๐ ููุงุญุธุงุช
- ุงูุชุญูู ูู ุงููุฑููุงุช ูุนุชูุฏ ุนูู ุจูุงูุงุช ุฌุฏูู `attachments` ูุณููููููู ุจุชุฏูู ุฑูุน ูุนูู ูู Story 3.4.
- ุฎุฏูุงุช ุงูุฅุดุนุงุฑ ูุฌุฑุฏ Placeholder ุญุงููุงูุ ุนูุฏ ุชููุฑ ูุธุงู ุงูุชูุจููุงุช ุณูุชู ุฑุจุทูุง ุจูููุงุช ุงูุจุฑูุฏ/ุงูุฑุณุงุฆู.
- ุงูุฎุทูุฉ ุงูุชุงููุฉ (Story 3.7) ุณุชุนุงูุฌ ูุงุฌูุฉ ูุชุงุจุนุฉ ุงูุทูุจุงุช ูุณุฌูุงุชูุง ูููุณุชุซูุฑ.

---

**ุชู ุงูุฅูุดุงุก ุจูุงุณุทุฉ:** GPT-5 Codex (Cursor)  
**ุขุฎุฑ ุชุญุฏูุซ:** 2025-11-08  

